<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>DevBlogs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: radial-gradient(circle at top, #1a1f36, #0b0f1a);
            color: #eaeaea;
            font-family: 'Inter', sans-serif;
        }

        /* NAVBAR */
        .navbar {
            background-color: rgba(11, 15, 26, 0.85);
            backdrop-filter: blur(12px);
        }

        .navbar-brand {
            font-weight: 800;
            background: linear-gradient(90deg, #4cc9f0, #f72585);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* HERO */
        .hero {
            padding: 4.5rem 0;
            background: linear-gradient(135deg, #4cc9f0, #7209b7, #f72585);
            color: white;
            border-radius: 0 0 48px 48px;
        }

        .hero h1 {
            font-weight: 900;
            letter-spacing: -0.5px;
        }

        /* BLOG CARDS */
        .blog-card {
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 18px;
            transition: transform 0.35s ease, box-shadow 0.35s ease;
        }

        .blog-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 18px 40px rgba(114, 9, 183, 0.35);
        }

        /* FEATURED BADGE */
        .badge-featured {
            background: linear-gradient(90deg, #f72585, #4cc9f0);
            color: #fff;
            font-weight: 700;
        }

        /* BUTTON */
        .btn-read {
            background: linear-gradient(90deg, #4cc9f0, #7209b7);
            border: none;
            color: #fff;
            font-weight: 600;
            border-radius: 20px;
        }

        .btn-read:hover {
            opacity: 0.9;
        }

/* Clamp blog summary to 3 lines */
.blog-summary {
    display: -webkit-box;
    -webkit-line-clamp: 2;          /* ðŸ‘ˆ number of lines */
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 1.6;
    max-height: calc(1.6em * 3);    /* fallback safety */
}

        /* SIDEBAR */
        .sidebar-card {
            background: rgba(255, 255, 255, 0.07);
            border-radius: 18px;
        }

        a {
            color: #4cc9f0;
            text-decoration: none;
        }

        a:hover {
            color: #f72585;
        }
/* BLOG CARD WITH THUMBNAIL */
.blog-row {
    display: flex;
    gap: 20px;
    align-items: center;
}

.blog-content {
    flex: 1;
}

.blog-thumb {
    width: 140px;
    height: 100px;
    flex-shrink: 0;
    border-radius: 14px;
    object-fit: cover;
    box-shadow: 0 10px 25px rgba(0,0,0,0.45);
}

/* Responsive: image moves on top */
@media (max-width: 768px) {
    .blog-row {
        flex-direction: column;
        align-items: flex-start;
    }

    .blog-thumb {
        width: 100%;
        height: 180px;
    }
}
        footer {
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            margin-top: 4rem;
            padding: 2rem 0;
            text-align: center;
            color: #aaa;
        }
    </style>
</head>

<body>
<!-- -->
<div th:insert="fragments/navbar :: navbar"></div>

<!-- HERO -->
<section class="hero text-center mt-5">
    <div class="container">
        <h1>Code. Create. Connect.</h1>
        <p class="lead mt-3">
            A next-gen blogging platform for developers & engineers.
        </p>
    </div>
</section>

<!-- MAIN -->
<div class="container my-5">
    <div class="row">

        <!-- BLOG LIST -->
        <div class="col-lg-8">

            <!-- FEATURED 
            <div class="blog-card p-4 mb-4">
                <span class="badge badge-featured mb-2">FEATURED</span>
                <h3 th:text="${featuredBlogs[0].title}"></h3>
                <p class="text-muted" th:text="${featuredBlogs[0].summary}"></p>
                <a th:href="@{/blog/{slug}(slug=${featuredBlogs[0].slug})}"
                   class="btn btn-read btn-sm">
                    Read Article â†’
                </a>
            </div>
-->
            <!-- ALL BLOGS -->
            <div th:each="blog : ${blogs}" class="blog-card p-4 mb-3">
                <div class="blog-row">

    <!-- LEFT CONTENT -->
    <div class="blog-content">
        <h5 th:text="${blog.title}"></h5>

        <p class="small text-muted">
            <span th:text="${blog.author.username}"></span>
            Â·
            <span th:text="${#dates.format(blog.publishedAt,'dd MMM yyyy')}"></span>
        </p>

<p class="blog-summary"
   th:utext="${blog.summary}">
</p>

        <a th:href="@{/article/{id}(id=${blog.id})}" class="fw-semibold">
            Continue reading â†’
        </a>
    </div>

    <!-- RIGHT IMAGE -->
    <img th:if="${blog.imageUrl != null}"
         th:src="@{/img/{file}(file=${blog.imageUrl})}"
         class="blog-thumb"
         alt="Article image">

</div>
            </div>

        </div>

        <!-- SIDEBAR -->
        <div class="col-lg-4">
            <div class="sidebar-card p-4 mb-4">
                <h5>Recent Uploads</h5>
                <ul class="list-unstyled">
                    <li th:each="rb : ${recentBlogs}" class="mb-2">
                        <a th:href="@{/blog/{slug}(slug=${rb.slug})}"
                           th:text="${rb.title}"></a>
                    </li>
                </ul>
            </div>

            <div class="sidebar-card p-4 text-center">
                <h6>Become an Author</h6>
                <p class="text-muted small">Share real-world knowledge.</p>
                <a th:href="@{/login}" class="btn btn-read btn-sm">Start Writing</a>
            </div>
        </div>

    </div>
</div>

<!-- FOOTER -->
<footer>
    Â© 2026 DevBlogs Â· Cyber Neon Theme
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
